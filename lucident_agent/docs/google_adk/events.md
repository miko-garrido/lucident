# Events

Events are the core units of information flow in ADK, representing every significant occurrence in an agent's lifecycleâ€”from user input to agent replies, tool calls, tool results, state changes, and errors. Each event is an immutable record, typically an instance of `google.adk.events.Event`, containing:

- `author`: Who generated the event (user or agent)
- `invocation_id`: ID for the interaction run
- `id`: Unique event ID
- `timestamp`: Creation time
- `content`: Main payload (text, tool call, tool result, etc.)
- `actions`: Signals for state/artifact changes, control flow, etc.
- `branch`: (Optional) Hierarchy path

## Why Events Matter
- **Communication**: Standard message format between UI, Runner, agents, LLM, and tools.
- **State & Artifact Changes**: Carry instructions for state and artifact updates.
- **Control Flow**: Direct agent execution, loops, and transfers.
- **History**: Chronological record for debugging and auditing.

## Using Events
- **Origin**: Check `event.author` ('user' or agent name)
- **Type**: Inspect `event.content` and helpers like `get_function_calls()` and `get_function_responses()`
- **Streaming**: `event.partial` is True for incomplete LLM output
- **Final Response**: Use `event.is_final_response()` to filter for user-facing output

## Actions and Side Effects
- **State Changes**: `event.actions.state_delta` (dict of state updates)
- **Artifact Saves**: `event.actions.artifact_delta` (dict of artifact changes)
- **Control Signals**: `event.actions.transfer_to_agent`, `event.actions.escalate`, `event.actions.skip_summarization`

## Event Flow
1. Generated by user, agent, LLM, or tool
2. Runner receives and processes
3. SessionService applies deltas and persists event
4. Runner yields event to application

## Example Events
- User input: `{author: 'user', content: {text: ...}}`
- Agent reply: `{author: 'Agent', content: {text: ...}, partial: false}`
- Tool call: `{content: {function_call: ...}}`
- Tool result: `{content: {function_response: ...}}`
- State/artifact update: `{actions: {state_delta: ..., artifact_delta: ...}}`
- Transfer/escalate: `{actions: {transfer_to_agent: ...}, ...}`

## Best Practices
- Use `event.is_final_response()` to filter for displayable output
- Use state/artifact deltas for persistence
- Leverage event history for debugging
- Use `invocation_id` to correlate events in a session

Events are the backbone of ADK's communication, state management, and control flow. 